{
  "actorSpecification": 1,
  "name": "apx-toolkit",
  "title": "APX - The API Toolkit",
  "description": "APX: From API discovery to production code in seconds. Automatically discovers APIs and generates code in 10 languages, TypeScript types, test suites, SDK packages, and complete documentation.",
  "version": "1.0",
  "readme": "./README.md",
  "meta": {
    "templateId": "typescript-playwright"
  },
  "input": {
    "title": "Smart API Finder & Documenter",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "startUrls": {
          "title": "Start URLs",
          "type": "array",
          "description": "Array of URLs to start the discovery process from",
          "editor": "json",
          "prefill": [
            {
              "url": "https://example.com"
            }
          ]
        },
        "apiPatterns": {
          "title": "API URL Patterns",
          "type": "array",
          "description": "Optional patterns to match API endpoints (e.g., ['/api/', '/v1/data']). If empty, will auto-detect JSON responses",
          "editor": "stringList",
          "default": []
        },
        "minResponseSize": {
          "title": "Minimum Response Size (bytes)",
          "type": "integer",
          "description": "Minimum size of API response to consider (filters out small config responses)",
          "default": 1000,
          "minimum": 0
        },
        "discoveryTimeout": {
          "title": "Discovery Timeout (ms)",
          "type": "integer",
          "description": "How long to wait for API discovery in milliseconds",
          "default": 10000,
          "minimum": 1000
        },
        "maxPages": {
          "title": "Maximum Pages",
          "type": "integer",
          "description": "Maximum number of pages to scrape from the discovered API",
          "default": 100,
          "minimum": 1
        },
        "maxConcurrency": {
          "title": "Max Concurrency",
          "type": "integer",
          "description": "Maximum number of concurrent requests for API processing",
          "default": 5,
          "minimum": 1
        },
        "dataPath": {
          "title": "Data Path",
          "type": "string",
          "description": "JSONPath to extract data items from API response (e.g., 'data.items', 'results'). If empty, will auto-detect",
          "editor": "textfield",
          "default": ""
        },
        "paginationType": {
          "title": "Pagination Type",
          "type": "string",
          "description": "Type of pagination to use",
          "editor": "select",
          "enum": ["auto", "offset", "page", "cursor"],
          "default": "auto"
        },
        "generateDocumentation": {
          "title": "Generate API Documentation",
          "type": "boolean",
          "description": "Automatically generate API documentation in multiple formats (OpenAPI, Postman, cURL, Insomnia)",
          "default": true
        },
        "exportFormats": {
          "title": "Export Formats",
          "type": "array",
          "description": "Formats to export API documentation (openapi, postman, curl, insomnia)",
          "editor": "select",
          "default": ["openapi", "postman", "curl"],
          "items": {
            "type": "string",
            "enum": ["openapi", "postman", "curl", "insomnia"]
          }
        }
      },
      "required": ["startUrls"]
  },
  "output": {
    "title": "Smart API Finder & Documenter Output",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
      "_type": {
        "title": "Output Type",
        "type": "string",
        "description": "Type of output item: 'api_documentation', 'api_summary', 'code_snippets', 'typescript_types', 'api_examples', 'test_suites', 'sdk_package', 'execution_summary', or extracted data item",
        "enum": ["api_documentation", "api_summary", "code_snippets", "typescript_types", "api_examples", "test_suites", "sdk_package", "execution_summary", "data"]
      },
      "format": {
        "title": "Export Format",
        "type": "string",
        "description": "Format of API documentation export (only for api_documentation type)",
        "enum": ["openapi", "postman", "curl", "insomnia"]
      },
      "filename": {
        "title": "Filename",
        "type": "string",
        "description": "Suggested filename for the export (only for api_documentation type)"
      },
      "content": {
        "title": "Content",
        "type": "string",
        "description": "The actual export content (JSON or text) (only for api_documentation type)"
      },
      "mimeType": {
        "title": "MIME Type",
        "type": "string",
        "description": "Content MIME type (only for api_documentation type)"
      },
      "apiCount": {
        "title": "API Count",
        "type": "integer",
        "description": "Number of APIs documented (only for api_documentation type)"
      },
      "totalApis": {
        "title": "Total APIs",
        "type": "integer",
        "description": "Total number of discovered APIs (only for api_summary type)"
      },
      "apis": {
        "title": "APIs",
        "type": "array",
        "description": "Array of API metadata (only for api_summary type)"
      },
      "generatedAt": {
        "title": "Generated At",
        "type": "string",
        "description": "ISO timestamp of generation"
      },
      "sourceUrl": {
        "title": "Source URL",
        "type": "string",
        "description": "Original URL that triggered discovery"
      },
      "_metadata": {
        "title": "Metadata",
        "type": "object",
        "description": "Metadata for extracted data items (only for data type)",
        "properties": {
          "sourceUrl": {
            "type": "string",
            "description": "Original URL that triggered the discovery"
          },
          "apiUrl": {
            "type": "string",
            "description": "The API endpoint URL used"
          },
          "page": {
            "type": "integer",
            "description": "Current page number (if applicable)"
          },
          "offset": {
            "type": "integer",
            "description": "Current offset (if applicable)"
          },
          "extractedAt": {
            "type": "string",
            "description": "ISO timestamp of extraction"
          }
        }
      }
    }
  }
}

